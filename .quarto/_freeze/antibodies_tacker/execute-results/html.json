{
  "hash": "8cc8ae785378c9e0096cec06220887d7",
  "result": {
    "markdown": "---\ntitle: \"Antibodies Tracker\"\nauthor: \"AM\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# knitr::opts_chunk$set(echo = F, message = F, warning = F, fig.height = 6, fig.width = 9, fig.align = \"centre\")\n\nlibrary(tidyverse)\n```\n\n::: {.cell-output-stderr}\n```\n-- Attaching packages --------------------------------------- tidyverse 1.3.1 --\n```\n:::\n\n::: {.cell-output-stderr}\n```\nv ggplot2 3.3.5     v purrr   0.3.4\nv tibble  3.1.2     v dplyr   1.0.7\nv tidyr   1.1.3     v stringr 1.4.0\nv readr   2.0.1     v forcats 0.5.1\n```\n:::\n\n::: {.cell-output-stderr}\n```\n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output-stderr}\n```\n\nAttaching package: 'janitor'\n```\n:::\n\n::: {.cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n:::\n\n```{.r .cell-code}\nlibrary(lubridate)\n```\n\n::: {.cell-output-stderr}\n```\n\nAttaching package: 'lubridate'\n```\n:::\n\n::: {.cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(timevis)\n\ntheme_set(theme_minimal())\n```\n:::\n\n| **Objective**: monitoring changes in neutralising antibody levels, rate of waning, days to seronegative status\n\n::: {.cell}\n\n```{.r .cell-code}\nsero_raw <- readxl::read_excel(\"~/Downloads/Santanu_COVID_events_research.xlsx\", \n                               sheet = \"long\") %>% \n  clean_names() %>% \n  mutate(date = ymd(date))\n\nsero <- sero_raw %>% \n  rename(start = date,\n         content = event) %>% \n  mutate(sero = parse_number(outcome)) %>% \n  mutate(content = str_remove(content, \"SARS-CoV-2 ANTI-SPIKE IgG ANTIBODIES\")) %>% \n  mutate(content = str_remove(content, \"\\\\:\")) %>% \n  mutate(content = str_remove(content, \"\\\\*\"))\n```\n\n::: {.cell-output-stderr}\n```\nWarning: 5 parsing failures.\nrow col expected                                        actual\n  1  -- a number Fever                                        \n  2  -- a number Nasopharyngeal/ Oropharyngeal swab           \n  3  -- a number Positive: RNA specific to SARS-CoV-2 detected\n  4  -- a number Nasopharyngeal/ Oropharyngeal swab           \n  5  -- a number Negative                                     \n```\n:::\n:::\n\n## Timeline\n\n::: {.cell}\n\n```{.r .cell-code}\nsero %>% \n  timevis()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-3612e793d2f9340d181d\" class=\"timevis html-widget\" style=\"width:100%;height:464px;\">\n<div class=\"btn-group zoom-menu\">\n<button type=\"button\" class=\"btn btn-default btn-lg zoom-in\" title=\"Zoom in\">+</button>\n<button type=\"button\" class=\"btn btn-default btn-lg zoom-out\" title=\"Zoom out\">-</button>\n</div>\n</div>\n<script type=\"application/json\" data-for=\"htmlwidget-3612e793d2f9340d181d\">{\"x\":{\"items\":[{\"day\":\"0\",\"week\":\"1\",\"start\":\"2021-04-18\",\"content\":\"Onset of symptoms\",\"outcome\":\"Fever\"},{\"day\":\"2\",\"week\":\"1\",\"start\":\"2021-04-20\",\"content\":\"RT-PCR Sample collected\",\"outcome\":\"Nasopharyngeal/ Oropharyngeal swab\"},{\"day\":\"4\",\"week\":\"1\",\"start\":\"2021-04-22\",\"content\":\"RT-PCR Test Report shared\",\"outcome\":\"Positive: RNA specific to SARS-CoV-2 detected\"},{\"day\":\"18\",\"week\":\"3\",\"start\":\"2021-05-06\",\"content\":\"RT-PCR Repeat Sample collected\",\"outcome\":\"Nasopharyngeal/ Oropharyngeal swab\"},{\"day\":\"19\",\"week\":\"3\",\"start\":\"2021-05-07\",\"content\":\"RT-PCR Repeat Test Report shared\",\"outcome\":\"Negative\"},{\"day\":\"25\",\"week\":\"4\",\"start\":\"2021-05-13\",\"content\":\"First Antibody test \",\"outcome\":\"Seropositive: 68.40 AU/ml\",\"sero\":\"68.4\"},{\"day\":\"107\",\"week\":\"16\",\"start\":\"2021-08-03\",\"content\":\"Second Antibody test \",\"outcome\":\"Seropositive: 37.60 AU/ml\",\"sero\":\"37.6\"},{\"day\":\"108\",\"week\":\"16\",\"start\":\"2021-08-04\",\"content\":\"First dose of Covishield vaccine\"},{\"day\":\"167\",\"week\":\"24\",\"start\":\"2021-10-02\",\"content\":\"Third Antibody test \",\"outcome\":\"Seropositive: 361.00 AU/ml\",\"sero\":\"361\"},{\"day\":\"205\",\"week\":\"30\",\"start\":\"2021-11-09\",\"content\":\"Fourth Antibody test \",\"outcome\":\"Seropositive: 260.00 AU/ml\",\"sero\":\"260\"},{\"day\":\"206\",\"week\":\"30\",\"start\":\"2021-11-10\",\"content\":\"Second dose of Covishield vaccine\"},{\"day\":\"351\",\"week\":\"51\",\"start\":\"2022-04-04\",\"content\":\"Fifth Antibody test \",\"outcome\":\"Seropositive: 393.00 AU/ml\",\"sero\":\"393\"}],\"groups\":null,\"showZoom\":true,\"zoomFactor\":0.5,\"fit\":true,\"options\":[],\"height\":null,\"timezone\":null,\"api\":[]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n## IgG Antibody levels over time\n\n::: {.cell}\n\n```{.r .cell-code}\nsero %>% \n  filter(!is.na(sero)) %>% \n  ggplot(aes(start, sero)) +\n  geom_line()  +\n  geom_point(aes(size = sero)) +\n  scale_x_date(labels = scales::date_format(\"%Y %b\")) +\n  labs(title = \"Trend in IgG antibody levels\",\n       x = \"\",\n       y = \"IgG Antibodies (in AU/ml)\",\n       size = \"\") +\n  theme(legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](antibodies_tacker_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "antibodies_tacker_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\r\n<link href=\"site_libs/visjs-7.4.9/vis-timeline-graph2d.min.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/visjs-7.4.9/vis-timeline-graph2d.min.js\"></script>\r\n<link href=\"site_libs/timeline-0.4/timevis.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/timevis-binding-2.0.0/timevis.js\"></script>\r\n<script src=\"site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}